--- a/build.zig
+++ b/build.zig
@@ -89,6 +89,7 @@ pub fn build(b: *zbs.Builder) !void {
         riverctl.step.dependOn(&scanner.step);
         riverctl.addPackage(scanner.getPkg());
         riverctl.linkLibC();
+        riverctl.setLibCFile("libc-paths");
         riverctl.linkSystemLibrary("wayland-client");
 
         scanner.addCSource(riverctl);
@@ -104,6 +105,7 @@ pub fn build(b: *zbs.Builder) !void {
         rivertile.step.dependOn(&scanner.step);
         rivertile.addPackage(scanner.getPkg());
         rivertile.linkLibC();
+        rivertile.setLibCFile("libc-paths");
         rivertile.linkSystemLibrary("wayland-client");
 
         scanner.addCSource(rivertile);
@@ -180,6 +182,7 @@ fn addServerDeps(exe: *zbs.LibExeObjStep, scanner: *ScanProtocolsStep) void {
     exe.step.dependOn(&scanner.step);
 
     exe.linkLibC();
+    exe.setLibCFile("libc-paths");
     exe.linkSystemLibrary("libevdev");
 
     exe.addPackage(wayland);
--- a/deps/zig-wayland/build.zig
+++ b/deps/zig-wayland/build.zig
@@ -17,6 +17,7 @@ pub fn build(b: *zbs.Builder) void {
         exe.addPackage(scanner.getPkg());
         scanner.addCSource(exe);
         exe.linkLibC();
+        exe.setLibCFile("../../libc-paths");
         exe.linkSystemLibrary("wayland-client");
 
         exe.install();
@@ -40,6 +41,7 @@ pub fn build(b: *zbs.Builder) void {
         ref_all.addPackage(scanner.getPkg());
         scanner.addCSource(ref_all);
         ref_all.linkLibC();
+        ref_all.setLibCFile("../../libc-paths");
         ref_all.linkSystemLibrary("wayland-client");
         ref_all.linkSystemLibrary("wayland-server");
         ref_all.linkSystemLibrary("wayland-egl");
@@ -117,8 +119,10 @@ pub const ScanProtocolsStep = struct {
     /// Add the necessary C source to the compilation unit.
     /// Once https://github.com/ziglang/zig/issues/131 we can remove this.
     pub fn addCSource(self: *ScanProtocolsStep, obj: *zbs.LibExeObjStep) void {
-        for (self.protocol_paths.items) |path|
+        for (self.protocol_paths.items) |path| {
+            obj.addIncludeDir("/usr/include");
             obj.addCSourceFile(self.getCodePath(path), &[_][]const u8{"-std=c99"});
+        }
     }
 
     pub fn getPkg(self: *ScanProtocolsStep) zbs.Pkg {
